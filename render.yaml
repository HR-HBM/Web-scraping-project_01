services:
  - type: cron
    name: news-scraper
    env: python
    runtime: python-3.11
    schedule: "0 3 * * *"  # 8:30 AM IST (3:00 AM UTC)
    buildCommand: |
      pip install -r requirements.txt
      python -m playwright install --with-deps chromium
    startCommand: python main.py
    envVars:
      - key: SENDER_EMAIL
        sync: false
      - key: SENDER_PASSWORD
        sync: false
      - key: RECIPIENT_EMAIL
        sync: false
